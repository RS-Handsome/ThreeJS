<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MockupProduct</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.jsdelivr.net/npm/three@latest/build/three.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@latest/examples/js/loaders/GLTFLoader.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@latest/examples/js/controls/OrbitControls.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/dat.gui@latest/build/dat.gui.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three-bmfont-text@latest/dist/index.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/load-bmfont@latest/index.js"></script>
    <script src="utils.js" defer></script>
</head>
<body>
  <div class="base three_root">
    <div class="base control-panel">
      <!-- Load Model -->
      <button class="base js-accordion">Products</button>
      <div class="base js-panel">
        <div class="js-model"><img src="model/clothe.png" alt="clothe" class="js-img"></div>
        <div class="js-model"><img src="model/bottle.png" alt="bottle" class="js-img"></div>
        <div class="js-model"><img src="model/mug.png" alt="mug" class="js-img"></div>
        <div class="js-model"><img src="model/lanyard.png" alt="lanyard" class="js-img"></div>
        <div class="js-model"><img src="model/button.png" alt="button" class="js-img"></div>
      </div>
      <!-- Load Texture -->
      <button class="base js-accordion">Textures</button>
      <div class="base js-panel">
        <div class="js-texture"><img src="texture/1.png" alt="" class="js-img"></div>
        <div class="js-texture"><img src="texture/2.png" alt="" class="js-img"></div>
        <div class="js-texture"><img src="texture/3.png" alt="" class="js-img"></div>
      </div>
      <!-- Add Text -->
      <button class="base js-accordion">Add Text</button>
      <div class="base js-panel">
        <textarea name="addtext" id="addtext" cols="30" rows="3" class="js-textarea"></textarea>
        <button class="js-btn-addtext">Add Text</button>
      </div>
      <!-- Add Image -->
      <button class="base js-accordion">Add Art</button>
      <div class="base js-panel">
        <div class="js-art"><img src="https://nbpublic.s3.amazonaws.com/product_cliparts/shapes-and-symbols/astrology/ahfubAjAdx55e571f774091_thumb.png" alt="" class="js-img"></div>
        <div class="js-art"><img src="https://nbpublic.s3.amazonaws.com/product_cliparts/shapes-symbols/astrology/AKvdkrlbFD5503c3c2d8b0d_thumb.png" alt="" class="js-img"></div>
        <div class="js-art"><img src="https://nbpublic.s3.amazonaws.com/product_cliparts/shapes-symbols/astrology/AsasDfIIGG5503c5bf3080b_thumb.png" alt="" class="js-img"></div>
        <div class="js-art"><img src="https://nbpublic.s3.amazonaws.com/product_cliparts/shapes-symbols/astrology/BGoAmaksvp550b692985bbc_thumb.png" alt="" class="js-img"></div>
        <div class="js-art"><img src="https://nbpublic.s3.amazonaws.com/product_cliparts/shapes-and-symbols/astrology/DkgsmJsIvk55e56dbc22815_thumb.png" alt="" class="js-img"></div>
        <div class="js-art"><img src="https://nbpublic.s3.amazonaws.com/product_cliparts/shapes-and-symbols/astrology/GkfCuegHqD55e56e36d89c5_thumb.png" alt="" class="js-img"></div>
      </div>
      <!-- Control Art -->
      <button class="base js-accordion">Control Art</button>
      <div class="base js-panel">
        <div class="js-controller">
          <label for="js-control-horizontal">Horizontal</label>
          <input type="range">
        </div>
        <div class="js-controller">
          <label for="js-control-vertical">Vertical</label>
          <input type="range">
        </div>
      </div>
    </div>
    <div class="base js-scene" id="js-scene"></div>
  </div>
  <script>
    // create scene, camera, renderer
    const scene = new THREE.Scene();
    const camera = new THREE.PerspectiveCamera(
      100, // This is the field of view in degrees 
      0.75*window.innerWidth / (0.9*window.innerHeight), // This represents the aspect ratio of the camera
      0.01, // This is the near clipping plane
      10000 // This is the far clipping plane
    );camera.position.z = 25;
    const renderer = new THREE.WebGLRenderer({alpha: true});renderer.setSize(1420, 955);
    document.getElementById('js-scene').appendChild(renderer.domElement);
    const textureLoader = new THREE.TextureLoader();
    // Add light on scene
    const light = new THREE.AmbientLight(0xffffff, 1);
    scene.add(light);
    const pointLight = new THREE.PointLight(0xffffff, 1);
    pointLight.position.set(50, 50, 50);
    scene.add(pointLight);
    // Set up OrbitControls
    const controls = new THREE.OrbitControls(camera, renderer.domElement);

    // create objects on scene
    const loader = new THREE.GLTFLoader();
    loader.load('new01.glb', function (gltf) {
      const model = gltf.scene;
      const textureLoader = new THREE.TextureLoader();
      const newTexture = textureLoader.load('texture/1.png');
      const material = new THREE.MeshStandardMaterial({ map: newTexture });

      gltf.scene.traverse(function (child) {
        if (child.isMesh) {
          child.material = material;
          child.material.needsUpdate = true;
        }
      });

      scene.add(model);
    });
    
    // console.log();
    // console.log(model);
      // Cylinder mesh
      const texture = textureLoader.load('4.png');
      const geometry = new THREE.CylinderGeometry(1, 1, 3, 32);
      const material = new THREE.MeshPhongMaterial({ map: texture });
      const cylinder = new THREE.Mesh(geometry, material);
      // console.log(cylinder);
      console.log(cylinder);
      NM = new THREE.MeshPhongMaterial({ color: 0x00ff00 });
      cylinder.material = NM;
      scene.add(cylinder);
    console.log('cylinder: ',scene.children.length);
    // console.log('cylinder: ',scene.children[0]);
    // console.log('cylinder: ',scene.children[1]);
    // console.log('cylinder: ',scene.children[2]);
    console.log('cylinder: ',scene.children[3]);
    // Render function
    function animate() {
        requestAnimationFrame(animate);
        controls.update();
        // texture.needsUpdate = true
        renderer.render(scene, camera);
    }
    animate();
  </script>
</body>
</html>
